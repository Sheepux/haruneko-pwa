import{S as ae,i as re,s as se,e as u,t as E,c as f,a as g,g as P,d as i,f as X,I as t,J as z,k as D,U as oe,n as H,b as V,P as B,Q as G,V as ie,R as ne}from"../chunks/vendor-03dbd443.js";import{b as ce}from"../chunks/env-a13806e5.js";function te(o,a,r){const n=o.slice();return n[7]=a[r],n}function le(o){let a,r=o[7].kind+"",n,c,y=o[7].name+"",d;return{c(){a=u("li"),n=E(r),c=E(" -- "),d=E(y)},l(_){a=f(_,"LI",{});var h=g(a);n=P(h,r),c=P(h," -- "),d=P(h,y),h.forEach(i)},m(_,h){X(_,a,h),t(a,n),t(a,c),t(a,d)},p:z,d(_){_&&i(a)}}}function de(o){let a,r,n,c,y,d,_,h,b,w,A,p,v,W,N,O,F,j,m,T,q,S,C,k,J,K,R=o[1],s=[];for(let l=0;l<R.length;l+=1)s[l]=le(te(o,R,l));return{c(){a=D(),r=u("div"),n=u("h1"),c=E("Reading local folder"),y=D(),d=u("button"),_=E("Load folder"),h=D(),b=u("button"),w=E("Dirty"),A=D(),p=u("div"),v=u("div"),W=E("List :"),N=u("br"),O=D(),F=u("ul");for(let l=0;l<s.length;l+=1)s[l].c();j=D(),m=u("div"),T=u("button"),q=E("Read testPersist.txt"),S=u("br"),C=D(),k=u("textarea"),this.h()},l(l){oe('[data-svelte="svelte-1m0g6h8"]',document.head).forEach(i),a=H(l),r=f(l,"DIV",{class:!0});var e=g(r);n=f(e,"H1",{});var I=g(n);c=P(I,"Reading local folder"),I.forEach(i),y=H(e),d=f(e,"BUTTON",{});var M=g(d);_=P(M,"Load folder"),M.forEach(i),h=H(e),b=f(e,"BUTTON",{});var Y=g(b);w=P(Y,"Dirty"),Y.forEach(i),A=H(e),p=f(e,"DIV",{style:!0});var U=g(p);v=f(U,"DIV",{id:!0,style:!0});var L=g(v);W=P(L,"List :"),N=f(L,"BR",{}),O=H(L),F=f(L,"UL",{});var Z=g(F);for(let Q=0;Q<s.length;Q+=1)s[Q].l(Z);Z.forEach(i),L.forEach(i),j=H(U),m=f(U,"DIV",{id:!0,style:!0});var $=g(m);T=f($,"BUTTON",{});var ee=g(T);q=P(ee,"Read testPersist.txt"),ee.forEach(i),S=f($,"BR",{}),C=H($),k=f($,"TEXTAREA",{placeholder:!0}),g(k).forEach(i),$.forEach(i),U.forEach(i),e.forEach(i),this.h()},h(){document.title="PWA_with_fs_access",V(v,"id","list"),B(v,"width","50%"),B(v,"float","left"),k.value=o[0],V(k,"placeholder","<nothing, write something by yourself>"),V(m,"id","file"),B(m,"width","50%"),B(m,"float","left"),B(p,"padding-top","2em"),V(r,"class","content svelte-cf77e8")},m(l,x){X(l,a,x),X(l,r,x),t(r,n),t(n,c),t(r,y),t(r,d),t(d,_),t(r,h),t(r,b),t(b,w),t(r,A),t(r,p),t(p,v),t(v,W),t(v,N),t(v,O),t(v,F);for(let e=0;e<s.length;e+=1)s[e].m(F,null);t(p,j),t(p,m),t(m,T),t(T,q),t(m,S),t(m,C),t(m,k),J||(K=[G(d,"click",o[2]),G(b,"click",o[4]),G(T,"click",o[3])],J=!0)},p(l,[x]){if(x&2){R=l[1];let e;for(e=0;e<R.length;e+=1){const I=te(l,R,e);s[e]?s[e].p(I,x):(s[e]=le(I),s[e].c(),s[e].m(F,null))}for(;e<s.length;e+=1)s[e].d(1);s.length=R.length}x&1&&(k.value=l[0])},i:z,o:z,d(l){l&&i(a),l&&i(r),ie(s,l),J=!1,ne(K)}}}function ue(o){return new Promise(a=>setTimeout(a,o))}function fe(o,a,r){const n=ce;let c,y=[],d="";async function _(){c=await window.showDirectoryPicker(),console.log(c)}async function h(){const A=await(await c.getFileHandle("testPersist.txt")).getFile();r(0,d=await A.text()),console.log(d)}async function b(){const w=await c.getDirectoryHandle("Folder by my PWA",{create:!0});await w.getDirectoryHandle("subsubfolder",{create:!0}),await c.getFileHandle("testPersist.txt",{create:!0}),await w.getFileHandle("PWA_with_fs_access.txt",{create:!0}),await ue(3e3),await w.removeEntry("PWA_with_fs_access.txt"),await c.removeEntry("Folder by my PWA",{recursive:!0})}return[d,y,_,h,b,n]}class ve extends ae{constructor(a){super();re(this,a,fe,de,se,{router:5})}get router(){return this.$$.ctx[5]}}export{ve as default};
